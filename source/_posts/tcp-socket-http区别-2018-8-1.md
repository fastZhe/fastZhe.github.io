---
title: tcp-socket-http区别
date: 2018-08-01 08:36:02
tags: ["tcp","http","socket"]
categories: ["internet"]
---


### 简介
这三个概念是很容易混淆的，我们将通过以下来阐述具体的区别

### HTTP与socket、tcp的关系
这是OSI（开放系统连接--open system interconnection）模型
![osi](/images/internet/2018-8-1-3.png)

<!--more-->

这是三者的关系
![tcp/http/socket](/images/internet/2018-8-1-4.png)



### http 与tcp
http是基于tcp的，客户端往服务端发送一个HTTP请求时第一步就是要建立与服务端的TCP连接，也就是先三次握手，“你好，你好，你好”。从HTTP 1.1开始支持持久连接，也就是一次TCP连接可以发送多次的HTTP请求。

**总结**
HTTP是基于tcp的，属于应用层协议

### http 与socket

由于通常情况下Socket(基于tcp)连接就是TCP连接，因此Socket连接一旦建立，通信双方即可开始相互发送数据内容，直到双方连接断开。但在实际网络应用中，客户端到服务器之间的通信往往需要穿越多个中间节点，例如路由器、网关、防火墙等，大部分防火墙默认会关闭长时间处于非活跃状态的连接而导致 Socket 连接断连，因此需要通过轮询告诉网络，该连接处于活跃状态。

而HTTP连接使用的是“请求—响应”的方式，不仅在请求时需要先建立连接，而且需要客户端向服务器发出请求后，服务器端才能回复数据。

很多情况下，需要服务器端主动向客户端推送数据，保持客户端与服务器数据的实时与同步。此时若双方建立的是Socket连接，服务器就可以直接将数据传送给客户端；若双方建立的是HTTP连接，则服务器需要等到客户端发送一次请求后才能将数据传回给客户端，因此，客户端定时向服务器端发送连接请求，不仅可以保持在线，同时也是在“询问”服务器是否有新的数据，如果有就将数据传给客户端。

**总结**
http协议是应用层的协义，有个比较形象的描述：HTTP是轿车，提供了封装或者显示数据的具体形式；Socket是发动机，提供了网络通信的能力。 

### socket 与tcp/ip

**总结**
socket本就是传输层tcp与udp的封装，不是协议，是编程接口，因此可以说tcp与udp的具体实现编程接口是由socket实现的




### 总结

用HTTP的情况：双方不需要时刻保持连接在线，比如客户端资源的获取、文件上传等。
用Socket的情况：大部分即时通讯应用(QQ、微信)、聊天室等




